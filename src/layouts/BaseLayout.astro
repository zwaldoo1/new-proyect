---
import Navbar from '../components/menu.astro';  // Importar el componente
---

<html lang="es">
  <head>
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>

    <meta charset="UTF-8" />
    <title>Campeonato</title>
    <style>
#loader-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9999;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.loader-top,
.loader-bottom {
  width: 100%;
  height: 50%;
  background-color: #0e51ee;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: transform 0.6s ease-in-out; /* antes tenías 0.8s, lo bajamos un poco */
}

.loader-top {
  transform: translateY(0%);
}

.loader-bottom {
  transform: translateY(0%);
}

#loader-container.hidden .loader-top {
  transform: translateY(-100%);
}

#loader-container.hidden .loader-bottom {
  transform: translateY(100%);
}

.logo-and-spinner {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  opacity: 0;
  animation: fadeIn 0.4s ease-in-out 0.1s forwards;
  animation-fill-mode: forwards; /* ✅ evita que vuelva a opacidad 0 */
}

@keyframes fadeIn {
  to {
    opacity: 1;
  }
}

.loader-logo {
  width: 360px;
  height: auto;
}

.spinner {
  width: 50px;
  height: 50px;
  border: 5px solid #fca232;
  border-top: 5px solid #3498db;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

{
  transition: transform 0.5s ease-in-out; /* en vez de 0.8s */
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

    </style>
    <div id="tsparticles" class="fixed top-0 left-0 w-full h-full -z-10"></div>
    <script>
      tsParticles.load("tsparticles", {
        fullScreen: { enable: true },  // Esto asegura que cubra toda la pantalla
        background: {
          color: {
            value: "#ffffff"  // Color del fondo donde se vean las partículas (puedes cambiarlo a transparente si lo prefieres)
          }
        },
        particles: {
          number: {
            value: 60,
            density: {
              enable: true,
              area: 800
            }
          },
          color: {
            value: "#0e51ee"  // Color de las partículas
          },
          shape: {
            type: "circle"  // Puedes cambiar esto a otros tipos de formas si lo prefieres
          },
          opacity: {
            value: 0.4
          },
          size: {
            value: { min: 1, max: 4 }
          },
          move: {
            enable: true,
            speed: 1,
            direction: "none",
            random: false,
            straight: false,
            outModes: {
              default: "out"
            }
          }
        },
        interactivity: {
          events: {
            onHover: {
              enable: true,
              mode: "repulse"
            },
            resize: true
          },
          modes: {
            repulse: {
              distance: 100
            }
          }
        }
      });
    </script>
    
    
  </head>
  <body>
    <div id="tsparticles" class="fixed top-0 left-0 w-full h-full -z-10"></div>

  <Navbar/>
<!-- Loader con desplazamiento dual y spinner -->
<div id="loader-container">
  <div class="loader-top">
    <div class="logo-and-spinner">
      <img src="/images/logo3.svg" alt="Logo" width="100" height="100" />
      <div class="spinner"></div>
    </div>
  </div>
  <div class="loader-bottom"></div>
</div>
<script>
  function hideLoader() {
    const loader = document.getElementById('loader-container');
    if (loader) {
      loader.classList.add('hidden');
      setTimeout(() => loader.remove(), 800); // lo remueve después de la animación
    }
  }

  // Ejecuta al cargar completamente la página
  window.addEventListener('load', hideLoader);

  // Fallback por si falla el evento load (por ejemplo en navegaciones rápidas)
  setTimeout(hideLoader, 5000);
</script>
<html lang="es">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><slot name="title" /></title>

    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>


    <main class="flex-grow flex flex-col items-center justify-center text-center px-4 relative z-10">
      <slot />
    </main>

    <a href="/inscripcion" class="fixed bottom-6 right-6 bg-blue-600 text-white font-bold py-3 px-6 rounded-full shadow-lg text-lg hover:scale-110 transition transform z-20">
      ¡Inscríbete ahora!
    </a>

    <a href="https://wa.me/+56951616431" target="_blank" class="fixed bottom-20 right-20 bg-green-500 text-white p-4 rounded-full shadow-lg text-2xl hover:scale-110 transition flex items-center justify-center z-20">
      <i class="fab fa-whatsapp"></i>
    </a>

  </body>
</html>
  </html>